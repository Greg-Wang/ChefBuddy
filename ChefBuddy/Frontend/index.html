<!DOCTYPE html>
<!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Sun Aug 21 2022 00:23:17 GMT+0000 (Coordinated Universal Time)  -->
<html
  data-wf-page="62fc0d39f35e2c1db8954167"
  data-wf-site="62fc0d39f35e2c1f46954163"
>
  <head>
    <meta charset="utf-8" />
    <title>Landing page template - Webflow HTML website template</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link href="css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="css/webflow.css" rel="stylesheet" type="text/css" />
    <link
      href="css/stevens-fantabulous-site.webflow.css"
      rel="stylesheet"
      type="text/css"
    />
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-database.js"></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Gothic A1:300,regular,500,600,700,800", "Inter:regular"],
        },
      });
    </script>
    <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        (n.className += t + "js"),
          ("ontouchstart" in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + "touch");
      })(window, document);
    </script>
    <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon" />
    <link href="images/webclip.svg" rel="apple-touch-icon" />
  </head>
  <body class="body">
    <div class="hero">
      <div
        data-collapse="medium"
        data-animation="default"
        data-duration="400"
        data-doc-height="1"
        data-easing="ease"
        data-easing2="ease"
        role="banner"
        class="nav w-nav"
      >
        <div class="nav-inner">
          <div class="nav-logo-wrap">
            <a href="#" class="brand w-nav-brand"
              ><img src="images/vectorcb-2.svg" width="120" alt=""
            /></a>
          </div>
          <div class="nav-menu-wrap">
            <nav role="navigation" class="nav-menu-2 w-nav-menu">
              <a href="#" class="nav-link w-nav-link">About</a>
              <a href="#" class="nav-link w-nav-link">Recipes</a>
            </nav>
            <div class="menu-button w-nav-button">
              <div class="menu-icon w-icon-nav-menu"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="section center wf-section">
      <img src="images/arrow.svg" alt="" class="arrow" /><img
        src="images/soup.png"
        sizes="(max-width: 479px) 80vw, (max-width: 767px) 70vw, 100vw"
        style="
          -webkit-transform: translate3d(0, 60px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -moz-transform: translate3d(0, 60px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -ms-transform: translate3d(0, 60px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          transform: translate3d(0, 60px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          opacity: 0;
        "
        data-w-id="77e69727-c455-8e07-0990-833a661c94ea"
        srcset="
          images/soup-p-500.png   500w,
          images/soup-p-800.png   800w,
          images/soup-p-1080.png 1080w,
          images/soup-p-1600.png 1600w,
          images/soup-p-2000.png 2000w,
          images/soup-p-2600.png 2600w,
          images/soup-p-3200.png 3200w,
          images/soup.png        3200w
        "
        alt=""
        class="hero-image"
      />
      <div
        data-w-id="6b220cb1-4b9c-7fb0-75b9-53ff4a6c35a2"
        style="
          -webkit-transform: translate3d(0, 30px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -moz-transform: translate3d(0, 30px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          -ms-transform: translate3d(0, 30px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          transform: translate3d(0, 30px, 0) scale3d(1, 1, 1) rotateX(0)
            rotateY(0) rotateZ(0) skew(0, 0);
          opacity: 0;
        "
        class="hero-content"
      >
        <h1 class="heading-3">Get Recipes Now</h1>
        <h3 class="hero-subhead PHOTO">
          In 3 easy steps!<br />1. Take a photo of the inside of your fridge,
          <br />2. Upload the photo <br />3. Pick something for your next meal
        </h3>
      </div>
    </div>
    <div class="section-2 wf-section">
      <div></div>
      <div class="container-2 w-container">
        <h2 class="heading-5">Upload A Photo</h2>
        <p class="paragraph-3">Take a photo and upload it now!</p>
        <div class="html-embed w-embed imgContainer">
          <label for="img">Select image:</label>
          <input
            type="file"
            id="img"
            name="img"
            accept="image/*"
            onchange="imageUploaded()"
          />
        </div>
      </div>
    </div>
    <div class="section-3 wf-section">
      <div></div>
      <div class="w-container">
        <h1 class="heading-6">Recipes</h1>
      </div>
      <div class="container-4 w-container">
        <h6 class="heading-7 divider">Search Bar</h6>
      </div>
      <ul role="list" class="list-2">
        <li class="list-item-1">
          <div class="columns w-row">
            <div class="w-col w-col-3">
              <img
                src="images/Apple-pei.jpg"
                loading="lazy"
                srcset="
                  images/Apple-pei-p-500.jpg   500w,
                  images/Apple-pei-p-800.jpg   800w,
                  images/Apple-pei-p-1080.jpg 1080w,
                  images/Apple-pei.jpg        1200w
                "
                sizes="(max-width: 767px) 100vw, (max-width: 991px) 21vw, 130px"
                alt=""
                class="image-7"
              />
            </div>
            <div class="w-col w-col-9">
              <h1 class="heading-8">Apple Pie</h1>
              <p class="paragraph-4">
                Ingredients: Apples, dough, sugar<br />Cook Time: 45 minutes
              </p>
            </div>
          </div>
        </li>
        <li class="list-item-2">
          <div class="columns w-row">
            <div class="w-col w-col-3">
              <img
                src="images/Apple-pei.jpg"
                loading="lazy"
                srcset="
                  images/Apple-pei-p-500.jpg   500w,
                  images/Apple-pei-p-800.jpg   800w,
                  images/Apple-pei-p-1080.jpg 1080w,
                  images/Apple-pei.jpg        1200w
                "
                sizes="(max-width: 767px) 100vw, (max-width: 991px) 21vw, 130px"
                alt=""
                class="image-8"
              />
            </div>
            <div class="w-col w-col-9">
              <h1 class="heading-8">Apple Pie</h1>
              <p class="paragraph-4">
                Ingredients: Apples, dough, sugar<br />Cook Time: 45 minutes
              </p>
            </div>
          </div>
        </li>
        <li class="list-item-3">
          <div class="columns w-row">
            <div class="w-col w-col-3">
              <img
                src="images/Apple-pei.jpg"
                loading="lazy"
                srcset="
                  images/Apple-pei-p-500.jpg   500w,
                  images/Apple-pei-p-800.jpg   800w,
                  images/Apple-pei-p-1080.jpg 1080w,
                  images/Apple-pei.jpg        1200w
                "
                sizes="(max-width: 767px) 100vw, (max-width: 991px) 21vw, 130px"
                alt=""
                class="image-9"
              />
            </div>
            <div class="w-col w-col-9">
              <h1 class="heading-8">Apple Pie</h1>
              <p class="paragraph-4">
                Ingredients: Apples, dough, sugar<br />Cook Time: 45 minutes
              </p>
            </div>
          </div>
        </li>
        <li class="list-item-4">
          <div class="columns w-row">
            <div class="w-col w-col-3">
              <img
                src="images/Apple-pei.jpg"
                loading="lazy"
                srcset="
                  images/Apple-pei-p-500.jpg   500w,
                  images/Apple-pei-p-800.jpg   800w,
                  images/Apple-pei-p-1080.jpg 1080w,
                  images/Apple-pei.jpg        1200w
                "
                sizes="(max-width: 767px) 100vw, (max-width: 991px) 21vw, 130px"
                alt=""
                class="image-10"
              />
            </div>
            <div class="w-col w-col-9">
              <h1 class="heading-8">Apple Pie</h1>
              <p class="paragraph-4">
                Ingredients: Apples, dough, sugar<br />Cook Time: 45 minutes
              </p>
            </div>
          </div>
        </li>
        <li class="list-item-5">
          <div class="columns w-row">
            <div class="w-col w-col-3">
              <img
                src="images/Apple-pei.jpg"
                loading="lazy"
                srcset="
                  images/Apple-pei-p-500.jpg   500w,
                  images/Apple-pei-p-800.jpg   800w,
                  images/Apple-pei-p-1080.jpg 1080w,
                  images/Apple-pei.jpg        1200w
                "
                sizes="(max-width: 767px) 100vw, (max-width: 991px) 21vw, 130px"
                alt=""
                class="image-11"
              />
            </div>
            <div class="w-col w-col-9">
              <h1 class="heading-8">Apple Pie</h1>
              <p class="paragraph-4">
                Ingredients: Apples, dough, sugar<br />Cook Time: 45 minutes
              </p>
            </div>
          </div>
        </li>
        <li class="list-item-6">
          <div class="columns w-row">
            <div class="w-col w-col-3">
              <img
                src="images/Apple-pei.jpg"
                loading="lazy"
                srcset="
                  images/Apple-pei-p-500.jpg   500w,
                  images/Apple-pei-p-800.jpg   800w,
                  images/Apple-pei-p-1080.jpg 1080w,
                  images/Apple-pei.jpg        1200w
                "
                sizes="(max-width: 767px) 100vw, (max-width: 991px) 21vw, 130px"
                alt=""
                class="image-12"
              />
            </div>
            <div class="w-col w-col-9">
              <h1 class="heading-8">Apple Pie</h1>
              <p class="paragraph-4">
                Ingredients: Apples, dough, sugar<br />Cook Time: 45 minutes
              </p>
            </div>
          </div>
        </li>
        <li class="list-item-7">
          <div class="columns w-row">
            <div class="w-col w-col-3">
              <img
                src="images/Apple-pei.jpg"
                loading="lazy"
                srcset="
                  images/Apple-pei-p-500.jpg   500w,
                  images/Apple-pei-p-800.jpg   800w,
                  images/Apple-pei-p-1080.jpg 1080w,
                  images/Apple-pei.jpg        1200w
                "
                sizes="(max-width: 767px) 100vw, (max-width: 991px) 21vw, 130px"
                alt=""
                class="image-13"
              />
            </div>
            <div class="w-col w-col-9">
              <h1 class="heading-8">Apple Pie</h1>
              <p class="paragraph-4">
                Ingredients: Apples, dough, sugar<br />Cook Time: 45 minutes
              </p>
            </div>
          </div>
        </li>
        <li class="list-item-8">
          <div class="columns w-row">
            <div class="w-col w-col-3">
              <img
                src="images/Apple-pei.jpg"
                loading="lazy"
                srcset="
                  images/Apple-pei-p-500.jpg   500w,
                  images/Apple-pei-p-800.jpg   800w,
                  images/Apple-pei-p-1080.jpg 1080w,
                  images/Apple-pei.jpg        1200w
                "
                sizes="(max-width: 767px) 100vw, (max-width: 991px) 21vw, 130px"
                alt=""
                class="image-14"
              />
            </div>
            <div class="w-col w-col-9">
              <h1 class="heading-8">Apple Pie</h1>
              <p class="paragraph-4">
                Ingredients: Apples, dough, sugar<br />Cook Time: 45 minutes
              </p>
            </div>
          </div>
        </li>
      </ul>
      <div class="container-3 w-container">
        <a href="#" class="button w-button">Load More</a>
      </div>
    </div>
    <div class="bottom-image-wrap"></div>
    <div class="footer wf-section">
      <div class="wrap">
        <img
          src="images/better-cb.png"
          width="120"
          sizes="120px"
          srcset="
            images/better-cb-p-500.png  500w,
            images/better-cb-p-800.png  800w,
            images/better-cb.png       1072w
          "
          alt=""
          class="image-6"
        />
        <p class="paragraph-5">ChefBuddy 2022.</p>
        <div class="footer-list">
          <a href="#" class="footer-link">Github</a>
          <a href="#" class="footer-link">Devpost</a>
          <a href="#" class="footer-link">YouTube</a>
        </div>
      </div>
    </div>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyCW12u3z-2DKnfHbp5quXqF5UzNnRhrPDU",
        authDomain: "chefbuddy-4b81b.firebaseapp.com",
        databaseURL: "https://chefbuddy-4b81b-default-rtdb.firebaseio.com",
        projectId: "chefbuddy-4b81b",
        storageBucket: "chefbuddy-4b81b.appspot.com",
        messagingSenderId: "863073926052",
        appId: "1:863073926052:web:2d237781ce5edd8787df31",
        measurementId: "G-2CGFTY7VDW",
      };

      firebase.initializeApp(firebaseConfig);

      let urls = [];
      let names = [];
      let imgs = [];
      let ids = [];
      let readyIn = [];
      const recipeContainer = document.querySelector(".list-2");
      const imgInput = document.getElementById("img");
      const imgInputContainer = document.querySelector(".imgContainer");
      const divider = document.querySelector(".divider");
      const photoPrompttext = document.querySelector(".PHOTO");
      divider.textContent =
        "Please upload your image above (requires firebase SDK installation)";
      recipeContainer.innerHTML = "";

      const displayRecipes = function (ingred) {
        recipeContainer.innerHTML = "";
        let urls = [];
        let names = [];
        let imgs = [];
        let ids = [];
        let readyIn = [];
        fetch(
          `https://api.spoonacular.com/recipes/findByIngredients?ingredients=${ingred}&number=6&apiKey=3973e2ee0620448ba2b98aa83284b3f0`
        )
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            data.forEach(function (curr, index) {
              console.log(curr);
              ids.push(curr.id);
              imgs.push(curr.image);
              names.push(curr.title);

              fetch(
                `https://api.spoonacular.com/recipes/${curr.id}/information?apiKey=3973e2ee0620448ba2b98aa83284b3f0`
              )
                .then(function (response) {
                  return response.json();
                })
                .then(function (data) {
                  console.log(data.sourceUrl);
                  urls.push(data.sourceUrl);
                  readyIn.push(data.readyInMinutes);
                })
                .then(function () {
                  ids.forEach(function (_, i) {
                    if (urls.length === 6) {
                      recipeContainer.insertAdjacentHTML(
                        "beforeend",

                        `<li class="list-item-1">
                <div class="columns w-row">
                  <div class="w-col w-col-3">
                    <img
                      src="${imgs[i]}"
                      loading="lazy"
                      srcset="
                      ${imgs[i]}  500w,
                      ${imgs[i]}  800w,
                      ${imgs[i]} 1080w,
                      ${imgs[i]} 1200w
                      "
                      sizes="(max-width: 767px) 100vw, (max-width: 991px) 20vw, 1000px"
                      alt=""
                      class="image-7"
                    />
                  </div>
                  <div class="w-col w-col-9">
                    <h1 class="heading-8">${names[i]} <br></h1>
                    <p class="paragraph-4">
                    <br>
                      Ready In: ${readyIn[i]} minutes<br /> <a href="${urls[i]}">link</a>
                    </p>
                  </div>
                </div>
              </li>`
                      );
                    }
                  });
                });
            });
          });
      };

      let base64String = "";

      let firebaseRef = firebase.database().ref("Base64");

      function imageUploaded() {
        if (imgInput.value === "") return;

        var file = document.querySelector("input[type=file]")["files"][0];

        var reader = new FileReader();
        console.log("next");

        reader.onload = function () {
          base64String = reader.result.replace("data:", "").replace(/^.+,/, "");

          imageBase64Stringsep = base64String;

          console.log(base64String);
          // UPLOAD TO DATABASE
          firebaseRef.push(base64String);
          // DISPLAY ON PAGE
          displayRecipes();
          imgInput.value = "";

          // Remove image input
          imgInputContainer.classList.add("hiddenEl");
          divider.textContent = "Available recipes";
          photoPrompttext.textContent = "Available recipes can be found below";

          setTimeout(function () {
            imgInputContainer.classList.remove("hiddenEl");
            photoPrompttext.textContent = "Take a photo and upload it now!";
            divider.textContent = "Please upload your image above";
          }, 10000);
        };
        reader.readAsDataURL(file);
      }

      ////////////////// PULL FROM DATABASE
      let firebaseRefQ = firebase.database().ref("String");
      firebaseRefQ.on("value", (snapshot) => {
        const data = snapshot.val();
        if (snapshot.val() == null) return;
        for (let x in data) {
          console.log(data[x]);
          displayRecipes(data[x]);
          firebaseRefQ.remove();
        }
      });
    </script>
    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=62fc0d39f35e2c1f46954163"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="js/webflow.js" type="text/javascript"></script>
    <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  </body>
</html>
